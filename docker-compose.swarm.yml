version: '3.3'
services:
  app:
    image: ghcr.io/nginovasidev/staging-app:latest
    environment:
      APP_NAMESPACE: Vehicles
      CI_DEBUG: 'false'
      CI_ENVIRONMENT: production
      ENV_BASE64: Iy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgRXhhbXBsZSBFbnZpcm9ubWVudCBDb25maWd1cmF0aW9uIGZpbGUKIwojIFRoaXMgZmlsZSBjYW4gYmUgdXNlZCBhcyBhIHN0YXJ0aW5nIHBvaW50IGZvciB5b3VyIG93bgojIGN1c3RvbSAuZW52IGZpbGVzLCBhbmQgY29udGFpbnMgbW9zdCBvZiB0aGUgcG9zc2libGUgc2V0dGluZ3MKIyBhdmFpbGFibGUgaW4gYSBkZWZhdWx0IGluc3RhbGwuCiMKIyBCeSBkZWZhdWx0LCBhbGwgb2YgdGhlIHNldHRpbmdzIGFyZSBjb21tZW50ZWQgb3V0LiBJZiB5b3Ugd2FudAojIHRvIG92ZXJyaWRlIHRoZSBzZXR0aW5nLCB5b3UgbXVzdCB1bi1jb21tZW50IGl0IGJ5IHJlbW92aW5nIHRoZSAnIycKIyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaW5lLgojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIEVOVklST05NRU5UCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyBDSV9FTlZJUk9OTUVOVCA9IHByb2R1Y3Rpb24KQ0lfRU5WSVJPTk1FTlQgPSBwcm9kdWN0aW9uCkNJX0RFQlVHID0gdHJ1ZQoKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgQVBQCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKYXBwLmJhc2VVUkwgPSAnaHR0cHM6Ly9zdGFnaW5nLWFwcC5uZ2lub3Zhc2kuaWQnCiMgYXBwLmJhc2VVUkwgPSAnaHR0cDovLzAuMC4wLjA6ODA4MCcKIyBJZiB5b3UgaGF2ZSB0cm91YmxlIHdpdGggYC5gLCB5b3UgY291bGQgYWxzbyB1c2UgYF9gLgojIGFwcF9iYXNlVVJMID0gJycKIyBhcHAuZm9yY2VHbG9iYWxTZWN1cmVSZXF1ZXN0cyA9IGZhbHNlCiMgYXBwLkNTUEVuYWJsZWQgPSBmYWxzZQoKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgREFUQUJBU0UKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRhdGFiYXNlLmRlZmF1bHQuREJEcml2ZXIgPSBNeVNRTGkKZGF0YWJhc2UuZGVmYXVsdC5ob3N0bmFtZSA9IDEwMy41OS45NS4xMzMKZGF0YWJhc2UuZGVmYXVsdC5wb3J0ICAgICA9IDMzMDYKZGF0YWJhc2UuZGVmYXVsdC5kYXRhYmFzZSA9IHNoYXJlYnVzCmRhdGFiYXNlLmRlZmF1bHQudXNlcm5hbWUgPSBzaGFyZWJ1cwpkYXRhYmFzZS5kZWZhdWx0LnBhc3N3b3JkID0gQmhYYWVwWTg1YkEhMlBOWjQKCiMgZGF0YWJhc2UuZGVmYXVsdC5EQkRyaXZlciA9IE15U1FMaQojIGRhdGFiYXNlLmRlZmF1bHQuaG9zdG5hbWUgPSAxMDMuNTkuOTUuMTMzCiMgZGF0YWJhc2UuZGVmYXVsdC5wb3J0ICAgICA9IDMzMDYKIyBkYXRhYmFzZS5kZWZhdWx0LmRhdGFiYXNlID0gc2hhcmVidXMKIyBkYXRhYmFzZS5kZWZhdWx0LnVzZXJuYW1lID0gcm9vdAojIGRhdGFiYXNlLmRlZmF1bHQucGFzc3dvcmQgPSBpWEYhSlZAMTk3CgojIGRhdGFiYXNlLmRlZmF1bHQuaG9zdG5hbWUgPSAxOTIuMTY4LjQ5LjEwMgojIGRhdGFiYXNlLmRlZmF1bHQuZGF0YWJhc2UgPSBncHNfYnVzX2RiCiMgIyBkYXRhYmFzZS5kZWZhdWx0LnVzZXJuYW1lID0gYWRtaW5fdm1fZGJfaW50X3Byb2QKIyAjIGRhdGFiYXNlLmRlZmF1bHQucGFzc3dvcmQgPSA0dTlAS2s4blp6NQojIGRhdGFiYXNlLmRlZmF1bHQudXNlcm5hbWUgPSBncHNfdXNlcgojIGRhdGFiYXNlLmRlZmF1bHQucGFzc3dvcmQgPSBQZUAyOWViVFRPOQojIGRhdGFiYXNlLmRlZmF1bHQuREJEcml2ZXIgPSBNeVNRTGkKIyBkYXRhYmFzZS5kZWZhdWx0LnBvcnQgPSA1MDAwCiMgZGF0YWJhc2UuZGVmYXVsdC5EQlByZWZpeCA9CgojIElmIHlvdSB1c2UgTXlTUUxpIGFzIHRlc3RzLCBmaXJzdCB1cGRhdGUgdGhlIHZhbHVlcyBvZiBDb25maWdcRGF0YWJhc2U6OiR0ZXN0cy4KIyBkYXRhYmFzZS50ZXN0cy5ob3N0bmFtZSA9IGxvY2FsaG9zdAojIGRhdGFiYXNlLnRlc3RzLmRhdGFiYXNlID0gY2k0X3Rlc3QKIyBkYXRhYmFzZS50ZXN0cy51c2VybmFtZSA9IHJvb3QKIyBkYXRhYmFzZS50ZXN0cy5wYXNzd29yZCA9IHJvb3QKIyBkYXRhYmFzZS50ZXN0cy5EQkRyaXZlciA9IE15U1FMaQojIGRhdGFiYXNlLnRlc3RzLkRCUHJlZml4ID0KIyBkYXRhYmFzZS50ZXN0cy5jaGFyc2V0ID0gdXRmOG1iNAojIGRhdGFiYXNlLnRlc3RzLkRCQ29sbGF0ID0gdXRmOG1iNF9nZW5lcmFsX2NpCiMgZGF0YWJhc2UudGVzdHMucG9ydCA9IDMzMDYKCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIEVOQ1JZUFRJT04KIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgojIGVuY3J5cHRpb24ua2V5ID0KCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIFNFU1NJT04gKFJlZGlzIENvbmZpZ3VyYXRpb24pCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKYXBwLnNlc3Npb25Ecml2ZXIgPSBDb2RlSWduaXRlclxTZXNzaW9uXEhhbmRsZXJzXFJlZGlzSGFuZGxlcgphcHAuc2Vzc2lvbkNvb2tpZU5hbWUgPSAnY2lfc2Vzc2lvbicKYXBwLnNlc3Npb25FeHBpcmF0aW9uID0gMzYwMAphcHAuc2Vzc2lvblNhdmVQYXRoID0gJ3RjcDovLzEyNy4wLjAuMTo2Mzc5P3RpbWVvdXQ9MiZkYXRhYmFzZT0wJwphcHAuc2Vzc2lvbk1hdGNoSVAgPSB0cnVlCmFwcC5zZXNzaW9uVGltZVRvVXBkYXRlID0gMzAwCmFwcC5zZXNzaW9uUmVnZW5lcmF0ZURlc3Ryb3kgPSB0cnVlCgphcHAucmVkaXNVcmwgPSAnMTI3LjAuMC4xJwphcHAucmVkaXNQb3J0ID0gNjM3OQojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBMT0dHRVIKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgojIGxvZ2dlci50aHJlc2hvbGQgPSA0CgojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBFeGFtcGxlIEVudmlyb25tZW50IENvbmZpZ3VyYXRpb24gZmlsZQojCiMgVGhpcyBmaWxlIGNhbiBiZSB1c2VkIGFzIGEgc3RhcnRpbmcgcG9pbnQgZm9yIHlvdXIgb3duCiMgY3VzdG9tIC5lbnYgZmlsZXMsIGFuZCBjb250YWlucyBtb3N0IG9mIHRoZSBwb3NzaWJsZSBzZXR0aW5ncwojIGF2YWlsYWJsZSBpbiBhIGRlZmF1bHQgaW5zdGFsbC4KIwojIEJ5IGRlZmF1bHQsIGFsbCBvZiB0aGUgc2V0dGluZ3MgYXJlIGNvbW1lbnRlZCBvdXQuIElmIHlvdSB3YW50CiMgdG8gb3ZlcnJpZGUgdGhlIHNldHRpbmcsIHlvdSBtdXN0IHVuLWNvbW1lbnQgaXQgYnkgcmVtb3ZpbmcgdGhlICcjJwojIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpbmUuCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKYXBwLmluZGV4UGFnZSA9ICcnCmFwcC5mb3JjZUdsb2JhbFNlY3VyZVJlcXVlc3RzID0gZmFsc2UKCiMgYXBwLkNTUkZQcm90ZWN0aW9uID0gdHJ1ZQojIGFwcC5DU1JGVG9rZW5OYW1lID0gJ3hfdG9rZW4nCiMgYXBwLkNTUkZIZWFkZXJOYW1lID0gJ1gtVE9LRU4nCiMgYXBwLkNTUkZDb29raWVOYW1lID0gJ2NpX2Nvb2tpZXMnCiMgYXBwLkNTUkZFeHBpcmUgPSA3MjAwCiMgYXBwLkNTUkZSZWdlbmVyYXRlID0gdHJ1ZQojIGFwcC5DU1JGUmVkaXJlY3QgPSB0cnVlCiMgYXBwLkNTUkZTYW1lc2l0ZSA9ICdMYXgnCgphcHAuQ1NSRlByb3RlY3Rpb24gPSB0cnVlCmFwcC5DU1JGVG9rZW5OYW1lICA9ICdjc3JmX3Rlc3RfbmFtZScKYXBwLkNTUkZDb29raWVOYW1lID0gJ2NzcmZfY29va2llX25hbWUnCiMgYXBwLkNTUkZDb29raWVOYW1lID0gJ2NpX2Nvb2tpZXMnCiMgYXBwLkNTUkZFeHBpcmUgPSA3MjAwCiMgYXBwLkNTUkZFeHBpcmUgPSA3MjAwCiMgbWFrZSBpdCB0byA4IGhvdXJzCmFwcC5DU1JGRXhwaXJlID0gMjg4MDAKYXBwLkNTUkZSZWdlbmVyYXRlID0gZmFsc2UKYXBwLkNTUkZSZWRpcmVjdCA9IHRydWUKYXBwLkNTUkZTYW1lc2l0ZSA9ICdMYXgnCiMgYXBwLkNTUkZFeGNsdWRlVVJJcyA9IFtdCiMgYXBwLkNTUEVuYWJsZWQgPSBmYWxzZQoKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgQ09OVEVOVCBTRUNVUklUWSBQT0xJQ1kKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgojIGNvbnRlbnRzZWN1cml0eXBvbGljeS5yZXBvcnRPbmx5ID0gZmFsc2UKIyBjb250ZW50c2VjdXJpdHlwb2xpY3kuZGVmYXVsdFNyYyA9ICdub25lJwojIGNvbnRlbnRzZWN1cml0eXBvbGljeS5zY3JpcHRTcmMgPSAnc2VsZicKIyBjb250ZW50c2VjdXJpdHlwb2xpY3kuc3R5bGVTcmMgPSAnc2VsZicKIyBjb250ZW50c2VjdXJpdHlwb2xpY3kuaW1hZ2VTcmMgPSAnc2VsZicKIyBjb250ZW50c2VjdXJpdHlwb2xpY3kuYmFzZV91cmkgPSBudWxsCiMgY29udGVudHNlY3VyaXR5cG9saWN5LmNoaWxkU3JjID0gbnVsbAojIGNvbnRlbnRzZWN1cml0eXBvbGljeS5jb25uZWN0U3JjID0gJ3NlbGYnCiMgY29udGVudHNlY3VyaXR5cG9saWN5LmZvbnRTcmMgPSBudWxsCiMgY29udGVudHNlY3VyaXR5cG9saWN5LmZvcm1BY3Rpb24gPSBudWxsCiMgY29udGVudHNlY3VyaXR5cG9saWN5LmZyYW1lQW5jZXN0b3JzID0gbnVsbAojIGNvbnRlbnRzZWN1cml0eXBvbGljeS5tZWRpYVNyYyA9IG51bGwKIyBjb250ZW50c2VjdXJpdHlwb2xpY3kub2JqZWN0U3JjID0gbnVsbAojIGNvbnRlbnRzZWN1cml0eXBvbGljeS5wbHVnaW5UeXBlcyA9IG51bGwKIyBjb250ZW50c2VjdXJpdHlwb2xpY3kucmVwb3J0VVJJID0gbnVsbAojIGNvbnRlbnRzZWN1cml0eXBvbGljeS5zYW5kYm94ID0gZmFsc2UKIyBjb250ZW50c2VjdXJpdHlwb2xpY3kudXBncmFkZUluc2VjdXJlUmVxdWVzdHMgPSBmYWxzZQoKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgSE9ORVlQT1QKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgojICBob25leXBvdC5oaWRkZW4gPSAndHJ1ZScKIyAgaG9uZXlwb3QubGFiZWwgPSAnRmlsbCBUaGlzIEZpZWxkJwojICBob25leXBvdC5uYW1lID0gJ2hvbmV5cG90JwojICBob25leXBvdC50ZW1wbGF0ZSA9ICc8bGFiZWw+e2xhYmVsfTwvbGFiZWw+PGlucHV0IHR5cGU9InRleHQiIG5hbWU9IntuYW1lfSIgdmFsdWU9IiIvPicKCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIFJFQ0FQVENIQSBQUk9QRVJUSUVTCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpSRUNBUFRDSEFfU0lURV9LRVkgPSAnNkxlb19Vc3BBQUFBQVBDTklBM0Z2ZnNRYmlwMy1TM1FvMkpqRl8tVicKUkVDQVBUQ0hBX1NFQ1JFVF9LRVkgPSAnNkxlb19Vc3BBQUFBQUQzcmFxWjNCWkROdExrMnV0T1g1cV95TTJBbicKCiNKV1QKand0LnNlY3JldGtleT0gJzUzOTk1MWEyZjg0OTQxYjVjMGEyM2ZiYjM1YjYyOGFhZTMwYjY4NmZkMTM4YWNlMTc2ZmYzZjFjMGNiYjEwMCcKand0LnR0bCA9IDE0NAoKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgQVBQTElDQVRJT04gUFJPUEVSVElFUwojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KQVBQX05BTUVTUEFDRSA9ICJIVUJEQVQgVmVoaWNsZXMiCnByb3AuYXBwbmFtZSA9ICJWZWhpY2xlcyIKcHJvcC5hcHBkZXNjID0gIkRhc2hib2FyZCBWZWhpY2xlcyIKcHJvcC5hcHBzaG9ydGRlc2MgPSAiRGFzaGJvYXJkIFZlaGljbGVzIgpwcm9wLmFwcGF1dGhvciA9ICJOR0kiCnByb3AuYXBwbG9nbyA9ICIvYXNzZXRzL2ltZy9sb2dvLnN2ZyIKcHJvcC5hcHBsb2dvb3BlcmF0ZWQgPSAiL2Fzc2V0cy9pbWcvaHViZGF0LnBuZyIKcHJvcC5hcHBsb2dpbmJnID0gIiIKcHJvcC5hcHBsb2dvZnVsbCA9ICIvYXNzZXRzL2ltZy9sb2dvLnN2ZyIKcHJvcC5mYXZpY29uID0gIi9hc3NldHMvaW1nL2xvZ28uc3ZnIgpwcm9wLnByaW1hcnljb2xvciA9ICIjMDA3YmZmIgoKIyBURUxFR1JBTV9CT1RfVE9LRU49IjE3Njk5OTg5MjY6QUFGNlNTazZsWEFXYlVNU0sxTTBPdnZUOFhaVkN3ek9EV1EiCiMgVEVMRUdSQU1fQ0hBVF9JRD0iLTEwMDEzNzAzNzQ5MDgiCiMgVEVMRUdSQU1fQk9UX1RPS0VOPSI3MTExNzEzNTEzOkFBRmtfM1VnOFdjTTEzT1Fyc0FUWm1CdDMyUG9KM1VUSUhnIgojIFRFTEVHUkFNX0NIQU5ORUxfSUQ9Ii0xMDAyNDM1MzQ2Njg3IgoKIyBhcHBzCnByb3AuQkFTRV9VUkxfU1RSRUFNX0NDVFY9aHR0cHM6Ly9zdHJlYW0tamF0aW0tZGV2LnRldHJhbnMuaWQKCnByb3AuREVGQVVMVF9MQVRJVFVERT0iLTcuMjU3MjQxIgpwcm9wLkRFRkFVTFRfTE9OR0lUVURFPSIxMTIuNzM3MjYiCnByb3AuREVGQVVMVF9DSVRZPSJKYXdhIFRpbXVyLCBJbmRvbmVpc2EiCgpwcm9wLkJBU0VfVVJMX1dIQVRTQVBQX1NFUlZJQ0U9aHR0cDovLzEyNy4wLjAuMTozMDAwCnByb3AuQVBJX0tFWV9XSEFUU0FQUF9TRVJWSUNFPTlkYThiNTA1NGJlMTQzZjk5ZTFmY2E4NmJlMGUzYWQ1CiMgaHR0cHM6Ly9ncHMuYnJ0bnVzYW50YXJhLmNvbS9kZXYKcHJvcC5CQVNFX1VSTF9OR0lfR1BTPWh0dHBzOi8vZ3BzLmJydG51c2FudGFyYS5jb20KcHJvcC5CQVNFX1VSTF9OR0k9aHR0cHM6Ly9kZXZlbDc0Lm5naW5vdmFzaS5pZC9ha2RwamF0aW0KcHJvcC5OR0lfVVNFUj0ianRjY0BtYWlsLmNvbSIKcHJvcC5OR0lfUEFTUz0iamF0aW1qdGNjOTkiCgpwcm9wLlBVU0hFUl9BUFBfSUQ9MTgwODczMQpwcm9wLlBVU0hFUl9BUFBfS0VZPWVjYjE1ODg0ODI4YTAxMjIyOWM4CnByb3AuUFVTSEVSX0FQUF9TRUNSRVQ9YmM0ZDNmNWVkZTk3YjRkM2I5NWUKcHJvcC5QVVNIRVJfSE9TVD0KcHJvcC5QVVNIRVJfUE9SVD00NDMKcHJvcC5QVVNIRVJfU0NIRU1FPWh0dHBzCnByb3AuUFVTSEVSX0FQUF9DTFVTVEVSPWFwMQoKcHJvcC5CUk9BRENBU1RfRFJJVkVSPXB1c2hlcgoKIyBzdG9yYWdlCnByb3AuRklMRVNZU1RFTV9ESVNLPW1pbmlvCnByb3AuTUlOSU9fQUNDRVNTX0tFWV9JRD1BWERtVGVhZ2p1cmU1OGU5c2JOagpwcm9wLk1JTklPX1NFQ1JFVF9BQ0NFU1NfS0VZPUhLOVFIV0FKeFBxTWpRekk1VFpRTHV5ajZhRlI5R2lKNkhwUUR2ZFUKcHJvcC5NSU5JT19ERUZBVUxUX1JFR0lPTj11cy1lYXN0LTEKcHJvcC5NSU5JT19CVUNLRVQ9dGhpc2h1Yi1qYXRpbQpwcm9wLk1JTklPX1VSTD1odHRwczovL29iamVjdC1zdG9yYWdlLm5naW5vdmFzaS5pZApwcm9wLk1JTklPX0VORFBPSU5UPWh0dHBzOi8vb2JqZWN0LXN0b3JhZ2Uubmdpbm92YXNpLmlkCgojIG1haWxlcgpwcm9wLk1BSUxfTUFJTEVSPXNtdHAKcHJvcC5NQUlMX0hPU1Q9c2FuZGJveC5zbXRwLm1haWx0cmFwLmlvCnByb3AuTUFJTF9QT1JUPTI1MjUKcHJvcC5NQUlMX1VTRVJOQU1FPTAzNjljMDE3MzMzZWNiCnByb3AuTUFJTF9QQVNTV09SRD1hYmEzNzI5OWUyMzY1MQpwcm9wLk1BSUxfRU5DUllQVElPTj10bHMKcHJvcC5NQUlMX0ZST01fQUREUkVTUz1zbWtkaWdpdGFsamF3YXRpbXVyQGdtYWlsLmNvbQpwcm9wLk1BSUxfRlJPTV9OQU1FPVNNS0RJR0lUQUwK
    networks:
     - staging-app
     - traefik-public
    logging:
      driver: json-file
    deploy:
      labels:
        traefik.http.middlewares.staging-app-header.headers.stsincludesubdomains: 'true'
        traefik.http.middlewares.staging-app-header.headers.stsseconds: '63072000'
        traefik.http.middlewares.staging-app-header.headers.sslredirect: 'true'
        traefik.http.routers.staging-app.rule: Host(`staging-app.nginovasi.id`)
        traefik.http.middlewares.staging-app-header.headers.addvaryheader: 'true'
        traefik.http.middlewares.staging-app-header.headers.browserxssfilter: 'true'
        traefik.http.middlewares.staging-app-header.headers.stspreload: 'true'
        traefik.http.middlewares.staging-app-header.headers.contenttypenosniff: 'true'
        traefik.http.routers.staging-app.entrypoints: websecure
        traefik.http.middlewares.staging-app-header.headers.referrerpolicy: same-origin
        traefik.http.routers.staging-app.tls: 'true'
        traefik.http.middlewares.staging-app-header.headers.accesscontrolallowmethods: GET,OPTIONS,PUT,POST,PATCH,DELETE,HEAD
        traefik.http.middlewares.staging-app-header.headers.sslproxyheaders.X-Forwarded-Proto: https
        traefik.http.middlewares.staging-app-header.headers.framedeny: 'true'
        traefik.http.middlewares.staging-app-header.headers.accesscontrolmaxage: '100'
        traefik.http.middlewares.staging-app-https.redirectscheme.scheme: https
        traefik.constraint-label: traefik-public
        traefik.docker.lbswarm: 'true'
        traefik.http.services.staging-app.loadbalancer.server.port: '8080'
        traefik.http.middlewares.staging-app-header.headers.featurepolicy: camera
          'none';geolocation 'none'; microphone 'none'; payment 'none'; usb 'none';
        traefik.http.routers.staging-app.middlewares: staging-app-https, staging-app-header
        traefik.http.middlewares.staging-app-header.headers.contentsecuritypolicy: frame-ancestors
          'self' https://staging-app.nginovasi.id
        traefik.http.middlewares.staging-app-header.headers.forcestsheader: 'true'
        traefik.docker.network: traefik-public
        traefik.enable: 'true'
        traefik.http.middlewares.staging-app-header.headers.hostsproxyheaders: X-Forwarded-Host
        traefik.http.middlewares.staging-app-header.headers.customresponseheaders.X-Robots-Tag: none,noarchive,nosnippet,notranslate,noimageindex
      restart_policy:
        condition: on-failure
      placement:
        constraints:
         - node.labels.deploy_cluster == vm_staging
      resources:
        reservations:
          memory: 1024M
  redis:
    image: redis:alpine
    networks:
     - staging-app
    logging:
      driver: json-file
    deploy:
      labels:
        traefik.enable: 'false'
      placement:
        constraints:
         - node.labels.deploy_cluster == vm_worker_staging
networks:
  staging-app:
    driver: overlay
  traefik-public:
    external: true
